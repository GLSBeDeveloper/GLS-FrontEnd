(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{"1OtP":function(t,a,n){"use strict";n.r(a);var e=n("CcnG"),o=function(){},l=n("Qm6G"),i=n("NcP4"),r=n("t68o"),u=n("xYTU"),c=n("zbXB"),s=n("CQVA"),b=n("pMnS"),d=n("fiJ/"),p=n("k10Q"),h=n("0G9l"),f=n("7jv/"),Z=n("JsB9"),m=n("44rI"),_=n("MXbC"),g=n("O7jx"),v=n("bujt"),y=n("v9Dh"),R=n("eDkP"),k=n("qAlS"),j=n("dWZg"),w=n("lLAP"),A=n("Fzqc"),O=n("UodH"),P=n("wFw1"),D=n("Mr+X"),M=n("SMsm"),U=n("jTJ4"),S=n("gIcY"),x=n("c714"),I=n("wm4d"),N=n("g/GL"),E=n("iLfO"),L=n("ZYCi"),T=n("A7o+"),B=n("Ip0R"),C=n("+dGY"),q=n("sA4U"),Q=n("2WpN"),G=n("uqu0"),z=n("giEZ"),F=n("RusP"),X=n("GgTk"),H=n("Rf/f"),Y=n("D8hx"),J=function(){function t(t,a,n,e,o,l,i){var r=this;this._problemRest=t,this._dialog=a,this._loading=n,this._router=e,this._translate=o,this._authentication=l,this._toast=i,this.tableHeight=5,this.selectedRows=[],this.columns=Object(q.f)(Object(q.e)(X.a),this._translate),this.itemActions=Object(q.f)([{tooltip:"Open",icon:"launch",click:function(t){return r.openProblem(t)}}],this._translate),this.selectActions=Object(q.f)([{label:"Delete",icon:"delete",click:function(t){return r.deleteProblems(t)}}],this._translate),this.toolbarButtons=Object(q.f)([{label:"Create Model",icon:"add",click:function(){return r.createProblem()}},{label:"Import Model",icon:"file_upload",click:function(){return r.importProblem()}},{label:"Refresh",icon:"refresh",click:function(){return r.load(!0)}}],this._translate)}return t.prototype.onResize=function(t){void 0===t&&(t=void 0),this.tableHeight=window.innerHeight-105},t.prototype.ngOnInit=function(){this.onResize(),this.load(!0)},t.prototype.load=function(t){var a=this;void 0===t&&(t=!1),this._loading.register("vrp-dashboard.load"),this._problemRest.getAbstractProblem(t).pipe(Object(Q.a)(function(){return a._loading.resolve("vrp-dashboard.load")})).subscribe(function(t){return a.data=t},function(t){a._router.navigate(["login"]),a._dialog.errorResponse(t)})},t.prototype.openProblem=function(t){this._router.navigate(["cvrp","problem-detail",t._id],{queryParams:{viewMode:"table",tableName:"vehicles"}})},t.prototype.createProblem=function(){var t=this;this._dialog.openDynamicEdit(Object(q.f)(X.f,this._translate),{},"Create model").subscribe(function(a){a&&t._createProblem(a)})},t.prototype.deleteProblems=function(t){var a=this;this._dialog.confirm("DASHBOARD.DELETE_CONFIRM_MSG").subscribe(function(n){n&&a._problemRest.delete(t.map(function(t){return t._id})).subscribe(function(n){a.data=a.data.filter(function(a){return-1===t.indexOf(a)}),a._toast.shortAlert("Delete succesfully")},function(t){return a._dialog.errorResponse(t)})})},t.prototype.importProblem=function(){var t=this;this._dialog.openFileDialog({accept:".json",type:"text"},function(a,n){try{t._createProblem(JSON.parse(a))}catch(a){t._dialog.error("INVALID_FILE_FORMAT_ERR")}})},t.prototype._createProblem=function(t){var a=this,n=new G.a;Object.assign(n,t),n.username=[this._authentication.getUserName()],console.debug("newProblem",n),this._problemRest.create(n).subscribe(function(t){a._dialog.confirm("DASHBOARD.OPEN_AFTER_CREATED_CONFIRM_MSG").subscribe(function(n){n?a._router.navigate(["cvrp","problem-detail",t._id],{queryParams:{viewMode:"table",tableName:"vehicles"}}):a.load(!0)})},function(t){return a._dialog.errorResponse(t)})},t}(),V=e.Pa({encapsulation:0,styles:[[""]],data:{}});function K(t){return e.lb(0,[(t()(),e.Ra(0,16777216,null,null,5,"button",[["mat-icon-button",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"],[null,"longpress"],[null,"keydown"],[null,"touchend"]],function(t,a,n){var o=!0;return"longpress"===a&&(o=!1!==e.bb(t,1).show()&&o),"keydown"===a&&(o=!1!==e.bb(t,1)._handleKeydown(n)&&o),"touchend"===a&&(o=!1!==e.bb(t,1)._handleTouchend()&&o),"click"===a&&(o=!1!==t.context.$implicit.click()&&o),o},v.d,v.b)),e.Qa(1,147456,null,0,y.d,[R.c,e.k,k.c,e.P,e.y,j.a,w.c,w.h,y.b,[2,A.c],[2,y.a]],{message:[0,"message"]},null),e.Qa(2,180224,null,0,O.b,[e.k,j.a,w.h,[2,P.a]],null,null),(t()(),e.Ra(3,0,null,0,2,"mat-icon",[["class","md-24 mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,D.b,D.a)),e.Qa(4,638976,null,0,M.a,[e.k,M.c,[8,null]],null,null),(t()(),e.jb(5,0,["",""])),(t()(),e.Ia(0,null,null,0))],function(t,a){t(a,1,0,a.context.$implicit.label),t(a,4,0)},function(t,a){t(a,0,0,e.bb(a,2).disabled||null,"NoopAnimations"===e.bb(a,2)._animationMode),t(a,3,0,e.bb(a,4).inline),t(a,5,0,a.context.$implicit.icon)})}function W(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,3,"div",[],null,null,null,null,null)),(t()(),e.Ra(1,0,null,null,2,"vrp-table",[["id","tableDashboard"],["sortBy","modified_date"]],null,null,null,U.b,U.a)),e.gb(5120,null,S.p,function(t){return[t]},[x.a]),e.Qa(3,573440,null,0,x.a,[I.a],{id:[0,"id"],columns:[1,"columns"],data:[2,"data"],selectActions:[3,"selectActions"],itemActions:[4,"itemActions"],sortBy:[5,"sortBy"],tableHeight:[6,"tableHeight"]},null)],function(t,a){var n=a.component;t(a,3,0,"tableDashboard",n.columns,n.data,n.selectActions,n.itemActions,"modified_date",n.tableHeight)},null)}function $(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,14,"td-layout-nav",[],null,null,null,N.f,N.b)),e.Qa(1,49152,null,0,E.f,[[2,L.o]],{toolbarTitle:[0,"toolbarTitle"]},null),e.db(131072,T.j,[T.k,e.h]),(t()(),e.Ra(3,0,null,0,5,"button",[["mat-icon-button",""],["td-menu-button",""],["tdLayoutToggle",""]],[[8,"disabled",0],[2,"_mat-animation-noopable",null]],[[null,"click"]],function(t,a,n){var o=!0;return"click"===a&&(o=!1!==e.bb(t,5).clickListener(n)&&o),o},v.d,v.b)),e.Qa(4,180224,null,0,O.b,[e.k,j.a,w.h,[2,P.a]],null,null),e.Qa(5,4341760,null,0,E.i,[E.c,e.E,e.k],{tdLayoutToggle:[0,"tdLayoutToggle"]},null),(t()(),e.Ra(6,0,null,0,2,"mat-icon",[["class","mat-icon"],["role","img"]],[[2,"mat-icon-inline",null]],null,null,D.b,D.a)),e.Qa(7,638976,null,0,M.a,[e.k,M.c,[8,null]],null,null),(t()(),e.jb(-1,0,["menu"])),(t()(),e.Ra(9,0,null,1,3,"div",[["flex",""],["layout","row"],["layout-align","center center"],["td-toolbar-content",""]],null,null,null,null,null)),(t()(),e.Ra(10,0,null,null,0,"span",[["flex",""]],null,null,null,null,null)),(t()(),e.Ia(16777216,null,null,1,null,K)),e.Qa(12,278528,null,0,B.l,[e.P,e.M,e.r],{ngForOf:[0,"ngForOf"]},null),(t()(),e.Ia(16777216,null,2,1,null,W)),e.Qa(14,212992,null,0,C.g,[e.P,e.M,C.i],{name:[0,"name"],type:[1,"type"],mode:[2,"mode"],strategy:[3,"strategy"],color:[4,"color"]},null)],function(t,a){var n=a.component;t(a,1,0,e.kb(a,1,0,e.bb(a,2).transform("Dashboard"))),t(a,5,0,""),t(a,7,0),t(a,12,0,n.toolbarButtons),t(a,14,0,"vrp-dashboard.load","circle","indeterminate","overlay","accent")},function(t,a){t(a,3,0,e.bb(a,4).disabled||null,"NoopAnimations"===e.bb(a,4)._animationMode),t(a,6,0,e.bb(a,7).inline)})}var tt=e.Na("vrp-dashboard",J,function(t){return e.lb(0,[(t()(),e.Ra(0,0,null,null,1,"vrp-dashboard",[],null,[["window","resize"]],function(t,a,n){var o=!0;return"window:resize"===a&&(o=!1!==e.bb(t,1).onResize(n)&&o),o},$,V)),e.Qa(1,114688,null,0,J,[F.a,z.a,C.i,L.o,T.k,H.a,Y.a],null,null)],function(t,a){t(a,1,0)},null)},{},{},[]),at=n("M2Lx"),nt=n("Wf4p"),et=n("mVsa"),ot=n("uGex"),lt=n("4epT"),it=n("ZYjt"),rt=n("o3x0"),ut=n("jQLj"),ct=n("wmQ5"),st=n("4tE/"),bt=n("GW0G"),dt=n("r8Is"),pt=n("t/Na"),ht=n("+gH2"),ft=n("vARd"),Zt=n("SN/6"),mt=n("YXNw"),_t=n("lf6A"),gt=n("/VYK"),vt=n("seP3"),yt=n("b716"),Rt=n("YhbO"),kt=n("4c35"),jt=n("jlZm"),wt=n("FVSy"),At=n("LC5p"),Ot=n("0/Q6"),Pt=n("de3e"),Dt=n("kWGw"),Mt=n("Z+uX"),Ut=n("Blfk"),St=n("8mMr"),xt=n("Lwpp"),It=n("La40"),Nt=n("Nsh5"),Et=n("r43C"),Lt=n("hjRe"),Tt=n("uK2o"),Bt=n("bo59"),Ct=n("6q6f"),qt=n("rxZL"),Qt=n("Ps+U"),Gt=n("GSLX"),zt=n("6w6d"),Ft=n("m5n6"),Xt=n("hIJP"),Ht=n("zrK0"),Yt=n("36nB"),Jt=n("qkDU"),Vt=n("x0yz"),Kt=n("gUJA"),Wt=function(){};n.d(a,"VrpDashboardModuleNgFactory",function(){return $t});var $t=e.Oa(o,[],function(t){return e.Ya([e.Za(512,e.j,e.Ca,[[8,[l.c,i.a,r.a,u.a,u.b,c.b,c.a,s.a,b.a,d.a,p.a,h.a,f.a,Z.a,m.a,_.a,g.a,tt]],[3,e.j],e.w]),e.Za(4608,B.o,B.n,[e.t,[2,B.C]]),e.Za(4608,S.C,S.C,[]),e.Za(4608,S.f,S.f,[]),e.Za(4608,at.c,at.c,[]),e.Za(4608,nt.d,nt.d,[]),e.Za(4608,R.c,R.c,[R.i,R.e,e.j,R.h,R.f,e.q,e.y,B.d,A.c]),e.Za(5120,R.j,R.k,[R.c]),e.Za(5120,y.b,y.c,[R.c]),e.Za(5120,et.b,et.g,[R.c]),e.Za(5120,ot.a,ot.b,[R.c]),e.Za(5120,lt.b,lt.a,[[3,lt.b]]),e.Za(4608,it.f,nt.e,[[2,nt.i],[2,nt.n]]),e.Za(5120,rt.c,rt.d,[R.c]),e.Za(4608,rt.e,rt.e,[R.c,e.q,[2,B.i],[2,rt.b],rt.c,[3,rt.e],R.e]),e.Za(4608,nt.c,nt.A,[[2,nt.h],j.a]),e.Za(4608,ut.i,ut.i,[]),e.Za(5120,ut.a,ut.b,[R.c]),e.Za(4608,ct.f,ct.f,[]),e.Za(5120,st.b,st.c,[R.c]),e.Za(5120,C.h,C.b,[[3,C.h],e.j,R.c,e.q]),e.Za(5120,C.i,C.c,[[3,C.i],C.h]),e.Za(5120,bt.h,bt.b,[[3,bt.h]]),e.Za(4608,dt.e,dt.e,[L.o]),e.Za(4608,dt.f,dt.f,[]),e.Za(4608,pt.j,pt.p,[B.d,e.A,pt.n]),e.Za(4608,pt.q,pt.q,[pt.j,pt.o]),e.Za(5120,pt.a,function(t){return[t]},[pt.q]),e.Za(4608,pt.m,pt.m,[]),e.Za(6144,pt.k,null,[pt.m]),e.Za(4608,pt.i,pt.i,[pt.k]),e.Za(6144,pt.b,null,[pt.i]),e.Za(4608,pt.g,pt.l,[pt.b,e.q]),e.Za(4608,pt.c,pt.c,[pt.g]),e.Za(4608,ht.a,ht.a,[pt.c,"MAP_BASE_URL"]),e.Za(4608,I.a,I.a,[rt.e,ft.b,T.k]),e.Za(1073742336,B.c,B.c,[]),e.Za(1073742336,S.z,S.z,[]),e.Za(1073742336,S.l,S.l,[]),e.Za(1073742336,S.w,S.w,[]),e.Za(1073742336,T.h,T.h,[]),e.Za(1073742336,Zt.a,Zt.a,[]),e.Za(1073742336,mt.a,mt.a,[]),e.Za(1073742336,Zt.g,Zt.g,[]),e.Za(1073742336,_t.b,_t.b,[]),e.Za(1073742336,Zt.j,Zt.j,[]),e.Za(1073742336,Zt.c,Zt.c,[]),e.Za(1073742336,Zt.f,Zt.f,[]),e.Za(1073742336,j.b,j.b,[]),e.Za(1073742336,gt.c,gt.c,[]),e.Za(1073742336,at.d,at.d,[]),e.Za(1073742336,vt.e,vt.e,[]),e.Za(1073742336,yt.c,yt.c,[]),e.Za(1073742336,Rt.c,Rt.c,[]),e.Za(1073742336,kt.g,kt.g,[]),e.Za(1073742336,jt.b,jt.b,[]),e.Za(1073742336,A.a,A.a,[]),e.Za(1073742336,nt.n,nt.n,[[2,nt.f]]),e.Za(1073742336,wt.d,wt.d,[]),e.Za(1073742336,nt.p,nt.p,[]),e.Za(1073742336,nt.z,nt.z,[]),e.Za(1073742336,nt.x,nt.x,[]),e.Za(1073742336,At.b,At.b,[]),e.Za(1073742336,Ot.e,Ot.e,[]),e.Za(1073742336,M.b,M.b,[]),e.Za(1073742336,w.a,w.a,[]),e.Za(1073742336,k.b,k.b,[]),e.Za(1073742336,R.g,R.g,[]),e.Za(1073742336,y.e,y.e,[]),e.Za(1073742336,O.c,O.c,[]),e.Za(1073742336,et.e,et.e,[]),e.Za(1073742336,nt.u,nt.u,[]),e.Za(1073742336,ot.d,ot.d,[]),e.Za(1073742336,lt.c,lt.c,[]),e.Za(1073742336,Pt.c,Pt.c,[]),e.Za(1073742336,Dt.c,Dt.c,[]),e.Za(1073742336,rt.k,rt.k,[]),e.Za(1073742336,Mt.b,Mt.b,[]),e.Za(1073742336,Ut.c,Ut.c,[]),e.Za(1073742336,ft.e,ft.e,[]),e.Za(1073742336,nt.B,nt.B,[]),e.Za(1073742336,nt.r,nt.r,[]),e.Za(1073742336,ut.j,ut.j,[]),e.Za(1073742336,St.b,St.b,[]),e.Za(1073742336,xt.d,xt.d,[]),e.Za(1073742336,ct.g,ct.g,[]),e.Za(1073742336,It.a,It.a,[]),e.Za(1073742336,Nt.h,Nt.h,[]),e.Za(1073742336,st.e,st.e,[]),e.Za(1073742336,Et.a,Et.a,[]),e.Za(1073742336,C.a,C.a,[]),e.Za(1073742336,E.a,E.a,[]),e.Za(1073742336,Lt.a,Lt.a,[]),e.Za(1073742336,Tt.a,Tt.a,[]),e.Za(1073742336,Bt.a,Bt.a,[]),e.Za(1073742336,bt.a,bt.a,[]),e.Za(1073742336,dt.a,dt.a,[]),e.Za(1073742336,Ct.a,Ct.a,[]),e.Za(1073742336,pt.e,pt.e,[]),e.Za(1073742336,pt.d,pt.d,[]),e.Za(1073742336,qt.a,qt.a,[]),e.Za(1073742336,Qt.a,Qt.a,[]),e.Za(1073742336,Gt.a,Gt.a,[]),e.Za(1073742336,L.r,L.r,[[2,L.y],[2,L.o]]),e.Za(1073742336,zt.a,zt.a,[]),e.Za(1073742336,Ft.a,Ft.a,[]),e.Za(1073742336,Xt.a,Xt.a,[]),e.Za(1073742336,Ht.a,Ht.a,[]),e.Za(1073742336,Yt.b,Yt.b,[]),e.Za(1073742336,Jt.a,Jt.a,[]),e.Za(1073742336,Vt.a,Vt.a,[]),e.Za(1073742336,Kt.a,Kt.a,[]),e.Za(1073742336,Wt,Wt,[]),e.Za(1073742336,o,o,[]),e.Za(256,nt.g,nt.k,[]),e.Za(256,pt.n,"XSRF-TOKEN",[]),e.Za(256,pt.o,"X-XSRF-TOKEN",[]),e.Za(1024,L.m,function(){return[[{path:"",component:J}]]},[])])})},D8hx:function(t,a,n){"use strict";n.d(a,"a",function(){return i});var e=n("CcnG"),o=n("vARd"),l=n("A7o+"),i=function(){function t(t,a){this._snackBarService=t,this._translate=a}return t.prototype.shortAlert=function(t,a){void 0===a&&(a=void 0);var n=this._t(t),e=3e3;a&&a.error&&(e=5e3,n="\u274c "+(a.error instanceof Array?a.error[0]:a.error)),this._snackBarService.open(n,"Dismiss",{panelClass:["text-break"],duration:e})},t.prototype._t=function(t){return t?this._translate.instant(t):t},t.ngInjectableDef=e.T({factory:function(){return new t(e.X(o.b),e.X(l.k))},token:t,providedIn:"root"}),t}()},RusP:function(t,a,n){"use strict";n.d(a,"a",function(){return u});var e=n("sA4U"),o=n("67Y/"),l=n("uqu0"),i=n("CcnG"),r=n("t/Na"),u=function(){function t(t,a){this._http=t,this._baseUrl=a,e.b.http=this._http}return t.prototype.get=function(t,a){return void 0===a&&(a=!1),e.b.get(this._baseUrl+"/v2/p-"+t,a).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.update=function(t,a){return this._http.patch(this._baseUrl+"/v2/"+t+"/update",{update:a}).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.updateField=function(t,a,n){return this._http.post(this._baseUrl+"/v2/"+t+"/"+a,n).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.create=function(t){return this._http.post(this._baseUrl+"/v2/",t).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.delete=function(t){return this._http.post(this._baseUrl+"/v2/destroy",{ids:t})},t.prototype.getAbstractProblem=function(t){return void 0===t&&(t=!1),e.b.get(this._baseUrl+"/v2/abstract",t)},t.prototype.geocode=function(t,a,n,e){void 0===a&&(a="onemap"),void 0===n&&(n="user,gmap,bdmap"),void 0===e&&(e=!0);var i=this._baseUrl+"/v2/geocode/"+t+"?service="+a+"&alternativeServices="+n+"&saveToDb="+e;return console.log("VrpProblemRestService -> url",i),this._http.post(i,{}).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.queryDistanceMatrix=function(t,a){return this._http.post(this._baseUrl+"/v2/distanceMatrix/"+t,a)},t.prototype.optimize=function(t,a){return this._http.post(this._baseUrl+"/v2/optimize/"+t,a)},t.prototype.deleteItems=function(t,a,n){var e,i=((e={})[""+a]={id:{$in:n}},e);return this._http.patch(this._baseUrl+"/v2/"+t+"/remove",{update:i}).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.prototype.updateItem=function(t,a,n,e){var i,r,u=((i={})[a+".id"]=n,i),c=((r={})[a+".$"]=e,r);return this._http.patch(this._baseUrl+"/v2/"+t+"/update",{query:u,update:c}).pipe(Object(o.a)(function(t){return new l.a(t)}))},t.ngInjectableDef=i.T({factory:function(){return new t(i.X(r.c),i.X("PROBLEM_REST_BASE_URL"))},token:t,providedIn:"root"}),t}()},gUJA:function(t,a,n){"use strict";n.d(a,"a",function(){return e});var e=function(){}},giEZ:function(t,a,n){"use strict";n.d(a,"a",function(){return o});var e=n("mrSG"),o=function(t){function a(){return null!==t&&t.apply(this,arguments)||this}return Object(e.b)(a,t),a}(n("S0mB").a)}}]);